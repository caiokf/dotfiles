- defaults:
    link:
      relink: true
      force: true

- clean: ['~']

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [mkdir -p ~/.zsh ~/.zsh/functions ~/.config/starship ~/.config/mise ~/.config/ghostty ~/.config/git]

- link:
    # Terminal:
    ~/.shell:
      path: shell
      create: true
    ~/.shell_env: config/shell_env
    ~/.bash_profile: config/bash_profile
    ~/.bashrc: config/bashrc
    ~/.zshrc: config/zshrc
    ~/.hushlogin: config/hushlogin

    # Ghostty terminal
    ~/.config/ghostty/config: config/ghostty/config

    # Starship prompt
    ~/.config/starship/starship.toml: config/starship/starship.toml

    # mise (version manager)
    ~/.config/mise/config.toml: config/mise/config.toml

    # Direnv
    ~/development/.envrc: development/envrc

    # SSH:
    ~/.ssh/config: config/ssh_config

    # Git (XDG compliant: ~/.config/git/)
    ~/.config/git/config: config/git/config
    ~/.config/git/ignore: config/git/ignore

    # Editors:
    ~/.editorconfig: config/editorconfig

# Editors: VS Code and Cursor (shared config)
- link:
    # VS Code
    '~/Library/Application Support/Code/User/settings.json':
      path: config/vscode/settings.json
      create: true
    '~/Library/Application Support/Code/User/keybindings.json':
      path: config/vscode/keybindings.json
      create: true
    # Cursor (same config as VS Code)
    '~/Library/Application Support/Cursor/User/settings.json':
      path: config/vscode/settings.json
      create: true
    '~/Library/Application Support/Cursor/User/keybindings.json':
      path: config/vscode/keybindings.json
      create: true

- shell:
    - [bash ./config/vscode/install.sh, Installing vscode/cursor extensions]
