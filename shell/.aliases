#----------------------------------------------------------
# ALIASES

# Enable aliases to be sudo'ed
alias sudo='sudo '

#----------------------------------------------------------
# Work directories
#----------------------------------------------------------
alias dev="cd ~/development"
alias dotfiles="cd ~/development/dotfiles && code ."
alias plt="cd ~/development/plt"
alias orange="cd ~/development/orangegigs"

alias m="make"
alias run='docker-compose run --rm dev mmake'
alias fl='bundle exec fastlane'
alias cc="ENABLE_BACKGROUND_TASKS=1 claude --dangerously-skip-permissions"

#----------------------------------------------------------
# Navigation
#----------------------------------------------------------
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias ~="cd ~"
alias -- -="cd -"

alias d="cd ~/Documents"
alias dl="cd ~/Downloads"
alias dt="cd ~/Desktop"

#----------------------------------------------------------
# Modern CLI replacements
#----------------------------------------------------------

# eza (modern ls replacement)
if command -v eza &> /dev/null; then
    alias ls="eza"
    alias l="eza -l --icons --git"
    alias la="eza -la --icons --git"
    alias lt="eza -T --icons --git-ignore"  # tree view
    alias ll="eza -l --icons --git --sort=modified"
else
    # Fallback to standard ls
    alias l="ls -lF"
    alias la="ls -laF"
fi

# bat (modern cat replacement)
if command -v bat &> /dev/null; then
    alias cat="bat --paging=never"
    alias catp="bat"  # with paging
fi

# fd (modern find replacement)
# No alias needed, just use 'fd' directly

#----------------------------------------------------------
# Network
#----------------------------------------------------------
alias ip="dig +short myip.opendns.com @resolver1.opendns.com"
alias localip="ipconfig getifaddr en0"
alias ips="ifconfig -a | grep -o 'inet6\? \(addr:\)\?\s\?\(\(\([0-9]\+\.\)\{3\}[0-9]\+\)\|[a-fA-F0-9:]\+\)' | awk '{ sub(/inet6? (addr:)? ?/, \"\"); print }'"

#----------------------------------------------------------
# macOS
#----------------------------------------------------------
alias flush="dscacheutil -flushcache && killall -HUP mDNSResponder"
alias lscleanup="/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user && killall Finder"

# Update everything
alias update='sudo softwareupdate -i -a; brew update; brew upgrade; brew cleanup'

# Volume
alias stfu="osascript -e 'set volume output muted true'"
alias pumpitup="osascript -e 'set volume 7'"

# Empty trash
alias emptytrash="sudo rm -rfv /Volumes/*/.Trashes; sudo rm -rfv ~/.Trash; sudo rm -rfv /private/var/log/asl/*.asl"

# Show/hide hidden files
alias show="defaults write com.apple.finder AppleShowAllFiles -bool true && killall Finder"
alias hide="defaults write com.apple.finder AppleShowAllFiles -bool false && killall Finder"

# Desktop icons
alias hidedesktop="defaults write com.apple.finder CreateDesktop -bool false && killall Finder"
alias showdesktop="defaults write com.apple.finder CreateDesktop -bool true && killall Finder"

# Lock screen
alias afk="/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend"

# Spotlight
alias spoton="sudo mdutil -a -i on"
alias spotoff="sudo mdutil -a -i off"

#----------------------------------------------------------
# Utilities
#----------------------------------------------------------
alias h="history"
alias week='date +%V'
alias timer='echo "Timer started. Stop with Ctrl-D." && date && time cat && date'
alias c="tr -d '\n' | pbcopy"
alias reload="exec $SHELL -l"

# Canonical hex dump
command -v hd > /dev/null || alias hd="hexdump -C"

# macOS fallbacks
command -v md5sum > /dev/null || alias md5sum="md5"
command -v sha1sum > /dev/null || alias sha1sum="shasum"

#----------------------------------------------------------
# Git shortcuts (supplement oh-my-zsh git plugin)
#----------------------------------------------------------
alias g="git"
alias gs="git status -s"
alias gd="git diff"
alias gds="git diff --staged"
alias gl="git log --oneline -20"
alias gp="git push"
alias gpl="git pull"
